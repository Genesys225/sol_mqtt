(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t){e.exports=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length}},128:function(e,t,a){e.exports=a.p+"static/media/ajax_loader_blue_256.14df1151.gif"},131:function(e,t,a){e.exports=a(329)},136:function(e,t,a){},188:function(e,t){},28:function(e,t,a){e.exports=a(330)},3:function(e,t,a){"use strict";a.d(t,"g",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"h",function(){return s}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l}),a.d(t,"f",function(){return c}),a.d(t,"n",function(){return i}),a.d(t,"o",function(){return u}),a.d(t,"d",function(){return d}),a.d(t,"c",function(){return m}),a.d(t,"k",function(){return p}),a.d(t,"m",function(){return h}),a.d(t,"l",function(){return b}),a.d(t,"j",function(){return f}),a.d(t,"i",function(){return v});var n="GET_ERRORS",r="CLEAR_ERRORS",s="SET_CURRENT_USER",o="ADD_NODE_2NODES",l="ADD_TYPE_2NODE",c="EDIT_NODE_HANDLE",i="SET_USER_PREFERENCES",u="SET_VALUE_2NODE_TYPE",d="CACHE_SENSOR_TELEMETRY",m="CACHE_IN_PROGRESS",p="SET_NODE_NAME",h="SET_SENSOR_TYPE",b="SET_SENSOR_SAMPLE_RANGE",f="SET_NEW_TELEMETRY",v="SET_NEW_LOG_DATA"},329:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(114),o=a.n(s),l=(a(136),a(7)),c=a(8),i=a(10),u=a(9),d=a(11),m=a(333),p=a(332),h=a(13),b=a(28),f=a(52),v=a.n(f),g=a(20),E=a.n(g),y=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},O=a(3),j=function(e){return function(t){E.a.get("/api/users/get-preferences/".concat(e)).then(function(e){t(N(e.data))}).catch(function(e){return t({type:O.g,payload:e})})}},N=function(e){return function(t){t({type:O.n,payload:e})}},S=function(e){return function(t){E.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),y(a);var n=v()(a);t(C(n)),t(j(n.id))}).catch(function(e){return t({type:O.g,payload:e.response.data})})}},C=function(e){return{type:O.h,payload:e}},k=function(){return function(e){localStorage.removeItem("jwtToken"),b.persistor.purge(),y(!1),e(C({})),e(N({}))}},w=a(121),_=a(331),D=a(164);var x=a(122),T=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser(this.props.persistor)}},{key:"render",value:function(){var e,t=this.props.auth,a=t.isAuthenticated,n=t.user,s="";a&&(s="base64,"+(e=n.identicon,new D(e+77,200).toString()));var o=r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.a,{className:"nav-link",to:"/manager"}," ","Manager"))),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.a,{to:"/",onClick:this.onLogoutClick.bind(this),className:"nav-link text-black-50"},r.a.createElement("img",{className:"rounded",style:{width:"30px",marginRight:"5px"},src:"data:image/png;"+s,alt:n.userName,circle:"true"})," ","Logout")))),l=r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.a,{className:"nav-link",to:"/dashboard"}," ","dashboard"))),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(_.a,{className:"nav-link ",to:"/create"},"Create User")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.a,{className:"nav-link",to:"/login"},"Login"))));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-primary mb-4 "},r.a.createElement("div",{className:"container"},r.a.createElement(_.a,{className:"navbar-brand text-white-50",to:"/"},r.a.createElement(x.a,{className:"mb-2"})," SOL Manager"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),a?o:l))}}]),t}(n.Component),A=Object(h.b)(function(e){return{auth:e.auth}},{logoutUser:k})(T);a(80);function R(){return r.a.createElement("footer",{className:"footer mt-5 p-4 text-center bg-primary"},"Copiright \xa9 ",(new Date).getFullYear," SOL App")}var P=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",{className:"display-3 mb-4"},"SOL Manager"),r.a.createElement("p",{className:"lead"}," ","Create a user or login in order to manage/view you'r site/node/s data"),r.a.createElement("hr",null),r.a.createElement(_.a,{to:"/create",className:"btn btn-lg btn-light mr-2"},"Create User"),r.a.createElement(_.a,{to:"/login",className:"btn btn-lg text-dark btn-primary "},"Login"))))))}}]),t}(n.Component),M=Object(h.b)(function(e){return{nodes:e.telemetry.nodes,auth:e.auth}})(P),L=a(16),F=a(5),U=a(334),H=a(30),I=a.n(H),G=function(e){var t=e.name,a=e.placeholder,n=e.value,s=(e.label,e.error),o=e.info,l=e.type,c=e.onChange,i=e.disabled;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{value:n,className:I()("form-control form-control-lg",{"is-invalid":s}),type:l,placeholder:a,name:t,onChange:c,disabled:i}),o&&r.a.createElement("small",{className:"form-text text-muted"},o),s&&r.a.createElement("div",{className:"invalid-feedback"},s))};G.defaultProps={type:"text"};var W=G,V=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={userName:"",email:"",password:"",password2:"",errors:{}},e.onChange=e.onChange.bind(Object(F.a)(Object(F.a)(e))),e.onSubmit=e.onSubmit.bind(Object(F.a)(Object(F.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={userName:this.state.userName,email:this.state.email,password:this.state.password,password2:this.state.password2};this.props.registerUser(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center text-black-50"},"Sign Up"),r.a.createElement("p",{className:"lead text-center text-white-50"},"Create your DevConnector account"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement(W,{placeholder:"User name",name:"userName",value:this.state.userName,onChange:this.onChange,error:e.userName}),r.a.createElement(W,{placeholder:"Email Address",name:"email",type:"email",value:this.state.email,onChange:this.onChange,error:e.email}),r.a.createElement(W,{placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,error:e.password}),r.a.createElement(W,{placeholder:"Confirm Password",name:"password2",type:"password",value:this.state.password2,onChange:this.onChange,error:e.password2}),r.a.createElement("input",{type:"submit",className:"btn btn-primary text-black-50 btn-block mt-4"}))))))}}]),t}(n.Component),z=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){E.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:O.g,payload:e.response.data})})}}})(Object(U.a)(V)),Y=a(2),B=a.n(Y),Z=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={password:"",userName:"",errors:{}},e.onChange=e.onChange.bind(Object(F.a)(Object(F.a)(e))),e.onSubmit=e.onSubmit.bind(Object(F.a)(Object(F.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={userName:this.state.userName,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"login "},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center text-black-50"},"Log In"),r.a.createElement("p",{className:"lead text-center text-white-50"},"Login to your managemant account"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(W,{value:this.state.userName,placeholder:"User name",name:"userName",onChange:this.onChange,error:e.userName}),r.a.createElement(W,{value:this.state.password,placeholder:"password",name:"password",type:"password",onChange:this.onChange,error:e.password}),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component);S.propTypes={loginUser:B.a.func.isRequired,auth:B.a.object.isRequired,errors:B.a.object.isRequired};var $=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:S})(Z),q=a(125),J=a.n(q)()("http://localhost:5001"),K=a(14),Q=a(129),X=a(126),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={chartData:{datasets:[{label:"",data:[0,0]}]}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dataSet;if(0!==e){var t=e.map(function(e){return e._id.day+"/"+e._id.month+" "+e._id.hour+":"+(e._id.minute<10?"0"+e._id.minute:e._id.minute)}),a=e.map(function(e){return e.avgValue});this.setState({chartData:{labels:t,datasets:[{label:"Average sampled",data:a}]}})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(X.a,{data:this.state.chartData,width:100,height:80,options:{}}))}}]),t}(n.Component),te=a(128),ae=a.n(te),ne=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:ae.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Loadind"}))},re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentWillReceiveProps=function(e){a.setState({title:e.title,sensor:e.sensor,dataSet:e.dataSet,cacheInProgress:e.cacheInProgress})},a.state={isValid:!0,errors:null},a.toHandler=a.toHandler.bind(Object(F.a)(Object(F.a)(a))),a.fromHandler=a.fromHandler.bind(Object(F.a)(Object(F.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"fromHandler",value:function(e){this.setState({isValid:/^[A-Za-z][A-Za-z0-9-_]*$/.test(e.target.value),errors:null,newTitle:e.target.value})}},{key:"toHandler",value:function(e){this.setState({isValid:/^[A-Za-z][A-Za-z0-9-_]*$/.test(e.target.value),errors:null,newTitle:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.sensor,n=(e.errors,e.dataSet),s=e.cacheInProgress;return r.a.createElement("div",{className:"modal fade bd-example-modal-lg",id:t+"_"+a,tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Node: ",t)),r.a.createElement("div",{className:"modal-body"}),s||!n?r.a.createElement(ne,null):r.a.createElement(ee,{dataSet:n}),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"#"+t+a},"Close")))))}}]),t}(n.Component),se=function(e){var t=e.nodeName,a=e.sensorType,n=e.from,r=e.to,s=e.newTo;return new Promise(function(e,o){E.a.get("/api/telemetry/get-between/".concat(t,"/").concat(a,"/").concat(n,"/").concat(s||r)).then(function(t){return e(t.data)}).catch(function(e){return o(e)})})},oe=Object(K.d)(Object(h.b)(function(e){return{sensors:e.sensors,user:e.user,auth:e.auth}},{fetchGraphData:function(e,t){return function(a){a({type:O.i,payload:{sonsorCreds:e,axiosCallDB:se,cachingProgress:t}})}}}),function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).cachingProgress=function(e,a){var n=t.props.sensors[e][a].sampleData;t.setState({sampleData:n})},t.componentWillReceiveProps=function(e){var a=e.sensor,n=e.value;switch(a){case"temperture":parseFloat(n.split("(")[0])>28?t.setState({badgeClassname:"badge-danger"}):parseFloat(n.split("(")[0])>26?t.setState({badgeClassname:"badge-warning"}):parseFloat(n.split("(")[0])<22?t.setState({badgeClassname:"badge-primary"}):t.setState({badgeClassname:"badge-success"});break;case"humidity":parseFloat(n.split("(")[0])>55?t.setState({badgeClassname:"badge-danger"}):parseFloat(n.split("(")[0])>45?t.setState({badgeClassname:"badge-warning"}):parseFloat(n.split("(")[0])<20?t.setState({badgeClassname:"badge-secondary"}):t.setState({badgeClassname:"badge-success"});break;case"co2":parseFloat(n.split("(")[0])>1600?t.setState({badgeClassname:"badge-danger"}):parseFloat(n.split("(")[0])>1300?t.setState({badgeClassname:"badge-warning"}):parseFloat(n.split("(")[0])<800?t.setState({badgeClassname:"badge-secondary"}):t.setState({badgeClassname:"badge-success"});break;case"light":parseFloat(n.split("(")[0])<10?t.setState({badgeClassname:"badge-dark"}):parseFloat(n.split("(")[0])<40?t.setState({badgeClassname:"badge-secondary"}):parseFloat(n.split("(")[0])<80?t.setState({badgeClassname:"badge-danger"}):parseFloat(n.split("(")[0])<150?t.setState({badgeClassname:"badge-warning"}):t.setState({badgeClassname:"badge-success"})}},t.state={sampleData:0,badgeClassname:""},t.handlGraphClick=t.handlGraphClick.bind(Object(F.a)(Object(F.a)(t))),t}return Object(d.a)(a,t),Object(c.a)(a,[{key:"handlGraphClick",value:function(e,t){var a=this.props.user.preferences.nodes;a.length>0&&(e=a.find(function(t){return t.handle===e}).node.name);var n={nodeName:e,sensorType:t,from:1542374373e3,to:1542465373e3};this.props.fetchGraphData(n,this.cachingProgress)}},{key:"render",value:function(){var t=this,a=this.props.auth.isAuthenticated,n=this.props,s=n.title,o=n.sensor,l=this.state,c=l.sampleData,i=l.cacheInProgress;return r.a.createElement(e,Object.assign({},this.props,{badgeClassname:this.state.badgeClassname,displayGraphButton:!!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{title:s,sensor:o,dataSet:c,cacheInProgress:i}),r.a.createElement("button",{className:"btn btn-outline-secondary col-md-2",type:"button","data-toggle":"modal","data-target":"#"+s+"_"+o,onClick:function(){return t.handlGraphClick(s,o)}},r.a.createElement(Q.a,null))," ")}))}}]),a}(n.Component)})(function(e){var t=e.badgeClassname,a=e.displayGraphButton,n=e.sensor,s=e.value,o=a?"col-md-10":"col-md-12";return r.a.createElement("ul",{className:"list-group"},r.a.createElement("div",{className:"row justify-content-start"},r.a.createElement("li",{key:n,className:I()("list-group-item d-flex justify-content-between align-items-center",o)},n,r.a.createElement("span",{className:I()("badge  badge-pill",t)},s)),a))}),le=Object(K.d)(Object(h.b)(function(e){return{user:e.user,auth:e.auth}},{createOrUpdateHandel:function(e,t){return function(a){E.a.post("/api/users/assign-handle/".concat(e.title),e).then(function(n){t(n.statusText),a(j(e.user_id))}).catch(function(e){t(e.response.data.errors),a({type:O.g,payload:e.response.data})})}}}),function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).componentWillReceiveProps=function(e){var a=t.props.title;if(e.user.preferences.nodes){var n=e.user.preferences.nodes;n.length>0&&(t.handle=n.find(function(e){return e.node.name===a}).handle)}else t.handle=a},t.state={},t.saveModalDetails=t.saveModalDetails.bind(Object(F.a)(Object(F.a)(t))),t}return Object(d.a)(a,t),Object(c.a)(a,[{key:"saveModalDetails",value:function(e,t){var a={user_id:this.props.auth.user.id,title:this.props.title,handle:e};console.log(a),this.props.createOrUpdateHandel(a,t)}},{key:"render",value:function(){var t=this.props.auth.isAuthenticated;return r.a.createElement(e,Object.assign({},this.props,{title:this.handle,saveModalDetails:t?this.saveModalDetails:null}))}}]),a}(n.Component)}),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentWillReceiveProps=function(e){a.setState({title:e.title})},a.state={isValid:!0,errors:null},a.handleSave=a.handleSave.bind(Object(F.a)(Object(F.a)(a))),a.inPutHandler=a.inputHandler.bind(Object(F.a)(Object(F.a)(a))),a.saveCallback=a.saveCallback.bind(Object(F.a)(Object(F.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"saveCallback",value:function(e){"OK"===e?document.getElementById("#"+this.state.title).click():this.setState({errors:e.toString(),isValid:!1})}},{key:"handleSave",value:function(){var e=this.state.newTitle;this.props.saveModalDetails(e,this.saveCallback)}},{key:"inputHandler",value:function(e){this.setState({isValid:/^[A-Za-z][A-Za-z0-9-_]*$/.test(e.target.value),errors:null,newTitle:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.isValid,s=t.errors;return r.a.createElement("div",{className:"modal modal-primary fade",id:a,tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Node: ",a),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Handle:")),r.a.createElement("input",{type:"text",className:I()("form-control",{"is-invalid":!n}),placeholder:a,"aria-label":a,onChange:function(t){return e.inputHandler(t)}}),!n&&r.a.createElement("div",{className:"invalid-feedback"},s||"Only letters and/or numbers alowed"))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"#"+a},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!n,onClick:function(){e.handleSave()}},"Save changes")))))}}]),t}(n.Component),ie=le(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.items,t=this.props,a=t.saveModalDetails,n=t.values,s=t.title;e=e.filter(function(e){return"undefined"!==e});var o=a?r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary float-right","data-toggle":"modal","data-target":"#"+s},"Edit"):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{title:s,handle:s,saveModalDetails:a&&a}),r.a.createElement("div",{className:"col col-md-4 col-sm-auto align-self-center"},r.a.createElement("div",{className:"card bg-light mb-3 "},r.a.createElement("div",{className:"card-header"},s,o),r.a.createElement("div",{className:"card-body"},e.sort().map(function(e,t){return r.a.createElement(oe,{key:e,title:s,sensor:e,value:n[e].value})})))))}}]),t}(n.Component)),ue=a(53),de=Object(ue.a)(function(e){return e.telemetry},function(e){var t=Object.getOwnPropertyNames(e.nodes);return t=t.sort().filter(function(e){return"undefined"!==e})}),me=Object(ue.a)(function(e){return e.telemetry},function(e){return e.nodes}),pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.props.subscribe2RegisteredNodes()},a.state={names:null,nodes:{"":""}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nodes,a=e.names,n=r.a.createElement(ne,null);return null!==a&&a.length>0&&(n=r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row align-items-start justify-content-center"},a.map(function(e){return r.a.createElement(ie,{key:e,title:e,items:Object.getOwnPropertyNames(t[e]),values:t[e]})})))),r.a.createElement(r.a.Fragment,null,n)}}]),t}(n.Component),he={subscribe2RegisteredNodes:function(){return function(e){J.on("event",function(t){e({type:O.j,payload:t})})}}},be=Object(h.b)(function(e){return{names:de(e),nodes:me(e),auth:e.auth,errors:e.errors}},he)(pe);if(localStorage.jwtToken){y(localStorage.jwtToken);var fe=v()(localStorage.jwtToken);b.store.dispatch(C(fe)),b.store.dispatch(j(fe.id));var ve=Date.now()/1e3;fe.exp<ve&&(b.store.dispatch(k()),window.location.href="/login")}var ge=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:b.store},r.a.createElement(w.a,{loading:null,persistor:b.persistor},r.a.createElement(m.a,null,r.a.createElement("div",{className:"App "},r.a.createElement(A,null),r.a.createElement(p.a,{exact:!0,path:"/",component:M}),r.a.createElement(p.a,{exact:!0,path:"/dashboard",component:be}),r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{exact:!0,path:"/create",component:z}),r.a.createElement(p.a,{exact:!0,path:"/login",component:$})),r.a.createElement(R,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},330:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(16),s=a(3),o=function(e){return{type:s.c,payload:e}},l=function(e){return{type:s.g,payload:e.response.data}},c=a(117),i=a(118),u=a.n(i),d=a(17),m=a(119),p=a.n(m),h={isAuthenticated:!1,user:{}},b={preferences:{}},f={},v={nodes:{}},g=a(130),E={caching:!0},y=Object(n.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.h:return Object(d.a)({},e,{isAuthenticated:!p()(t.payload),user:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.f:return Object(d.a)({},e);case s.n:return Object(d.a)({},e,{preferences:t.payload});default:return e}},telemetry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a:return Object(d.a)({},e,{nodes:t.payload});case s.b:var a=t.payload,n=a.name,r=a.type;return e.nodes[n]=r,Object(d.a)({},e);case s.o:var o=t.payload,l=o.name,c=o.type,i=o.value;return e.nodes[l][c]&&(e.nodes[l][c].value=i),Object(d.a)({},e);default:return e}},sensors:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case s.d:return Object(d.a)({},t,a.payload);case s.k:var n=a.payload,r=n.nodeName,o=n.data;return t[r]=Object.assign(t[r],o),Object(d.a)({},t);case s.m:var l=a.payload,c=l.nodeName,i=l.sensorType,u=l.from,m=l.to,p=l.sampleData;return t[c][i].from=u,t[c][i].to=m,(e=t[c][i].sampleData).unshift.apply(e,Object(g.a)(p)),Object(d.a)({},t);case s.l:return t;case s.c:return Object(d.a)({},t,{caching:a.payload});default:return t}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.g:return t.payload;case s.e:return{};default:return e}}}),O=a(72),j=a(120),N=a.n(j);a.d(t,"store",function(){return w}),a.d(t,"persistor",function(){return _});var S=[c.a,u.a,function(e){return function(t){return function(a){var n=a.type,c=!1;"SET_NEW_TELEMETRY"===n&&(c=function(e,t){var a=t.type,n=t.payload,o=e.getState().telemetry.nodes;if("SET_NEW_TELEMETRY"===a){var l=n,c=l.name,i=l.type,u=l.value,d=l.units;n=o;var m=Object(r.a)({},i,{value:u+d});return o[c]?o[c][i]?(n[c][i]=Object.assign(o[c][i],m[i]),{type:s.o,payload:{name:c,type:i,value:u+d}}):(n[c]=Object.assign(o[c],m),{type:s.b,payload:n[c]}):(n=Object.assign(n,Object(r.a)({},c,Object(r.a)({},i,{value:u+d}))),{type:s.a,payload:n})}return!1}(e,a)),"SET_NEW_LOG_DATA"===n&&(c=function(e,t){var a=e.getState().sensors,n=e.dispatch,c=t.payload,i=c.sonsorCreds,u=c.axiosCallDB,d=c.cachingProgress,m=i.nodeName,p=i.sensorType,h=i.from,b=i.to;if(o(!0),Object.getOwnPropertyNames(a).indexOf(m)>-1)if(Object.getOwnPropertyNames(a[m]).indexOf(p)>-1){if(a[m][p].from<=h)return d(m,p),o(!1);a[m][p].from>h&&(i.newTo=a[m][p].from,u(i).then(function(e){return n({type:s.m,payload:{nodeName:m,sensorType:p,from:h,to:b,sampleData:e}}),d(m,p),o(!1)}).catch(function(e){return l(e)}))}else u(i).then(function(e){return n({type:s.k,payload:{nodeName:m,data:Object(r.a)({},p,{from:h,to:b,sampleData:e})}}),d(m,p),o(!1)}).catch(function(e){return l(e)});else u(i).then(function(e){return n({type:s.d,payload:Object(r.a)({},m,Object(r.a)({},p,{from:h,to:b,sampleData:e}))}),d(m,p),o(!1)}).catch(function(e){return l(e)})}(e,a)),c&&(a=c),t(a)}}}],C={key:"root",storage:N.a},k=Object(O.a)(C,y),w=Object(n.e)(k,Object(n.d)(n.a.apply(void 0,S))),_=Object(O.b)(w)},80:function(e,t,a){}},[[131,2,1]]]);
//# sourceMappingURL=main.e5b659e8.chunk.js.map